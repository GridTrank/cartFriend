(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/htz-image-upload/htz-image-upload"],{322:
/*!******************************************************************************!*\
  !*** D:/工作/project/project/components/htz-image-upload/htz-image-upload.vue ***!
  \******************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";i.r(t);var o=i(/*! ./htz-image-upload.vue?vue&type=template&id=40a23b44& */323),n=i(/*! ./htz-image-upload.vue?vue&type=script&lang=js& */325);for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);i(/*! ./htz-image-upload.vue?vue&type=style&index=0&lang=css& */327),i(/*! ./htz-image-upload.vue?vue&type=style&index=1&lang=css& */329);var s,u=i(/*! ../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */17),c=Object(u["default"])(n["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],s);c.options.__file="components/htz-image-upload/htz-image-upload.vue",t["default"]=c.exports},323:
/*!*************************************************************************************************************!*\
  !*** D:/工作/project/project/components/htz-image-upload/htz-image-upload.vue?vue&type=template&id=40a23b44& ***!
  \*************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,i){"use strict";i.r(t);var o=i(/*! -!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./htz-image-upload.vue?vue&type=template&id=40a23b44& */324);i.d(t,"render",(function(){return o["render"]})),i.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),i.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),i.d(t,"components",(function(){return o["components"]}))},324:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/工作/project/project/components/htz-image-upload/htz-image-upload.vue?vue&type=template&id=40a23b44& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,i){"use strict";var o;i.r(t),i.d(t,"render",(function(){return n})),i.d(t,"staticRenderFns",(function(){return s})),i.d(t,"recyclableRender",(function(){return a})),i.d(t,"components",(function(){return o}));var n=function(){var e=this,t=e.$createElement,i=(e._self._c,e.__map(e.uploadLists,(function(t,i){var o=e.__get_orig(t),n=/.(gif|jpg|jpeg|png|gif|jpg|png)$/.test(t);return{$orig:o,g0:n}})));e.$mp.data=Object.assign({},{$root:{l0:i}})},a=!1,s=[];n._withStripped=!0},325:
/*!*******************************************************************************************************!*\
  !*** D:/工作/project/project/components/htz-image-upload/htz-image-upload.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";i.r(t);var o=i(/*! -!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./htz-image-upload.vue?vue&type=script&lang=js& */326),n=i.n(o);for(var a in o)"default"!==a&&function(e){i.d(t,e,(function(){return o[e]}))}(a);t["default"]=n.a},326:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/工作/project/project/components/htz-image-upload/htz-image-upload.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"htz-image-upload",props:{max:{type:Number,default:1},chooseNum:{type:Number,default:9},name:{type:String,default:"file"},remove:{type:Boolean,default:!0},sourceType:{type:Array,default:function(){return["album","camera"]}},action:{type:String,default:""},headers:{type:Object,default:function(){}},formData:{type:Object,default:function(){}},compress:{type:Boolean,default:!1},quality:{type:Number,default:80},value:{type:Array,default:function(){return[]}},uploadSuccess:{default:function(e){return{success:!1,url:""}}},mediaType:{type:String,default:"image"},maxDuration:{type:Number,default:60},camera:{type:String,default:"back"}},data:function(){return{uploadLists:[],mediaTypeData:["image","video","all"],previewVideoSrc:""}},mounted:function(){this.$nextTick((function(){this.uploadLists=this.value,-1==this.mediaTypeData.indexOf(this.mediaType)&&e.showModal({title:"提示",content:"mediaType参数不正确",showCancel:!1,success:function(e){e.confirm||e.cancel}})}))},watch:{value:function(e,t){this.uploadLists=e}},methods:{previewVideo:function(e){this.previewVideoSrc=e},previewVideoClose:function(){this.previewVideoSrc=""},imgDel:function(t){var i=this;e.showModal({title:"提示",content:"您确定要删除么?",success:function(e){if(e.confirm){var o=i.uploadLists[t];i.uploadLists.splice(t,1),i.$emit("input",i.uploadLists),i.$emit("imgDelete",{del:o,tempFilePaths:i.uploadLists})}else e.cancel}})},imgPreview:function(t){var i=this.uploadLists.filter((function(e){return/.(gif|jpg|jpeg|png|gif|jpg|png)$/.test(e)}));e.previewImage({urls:i,current:t,loop:!0})},chooseFile:function(){var t=this;switch(this.mediaTypeData.indexOf(this.mediaType)){case 1:this.videoAdd();break;case 2:e.showActionSheet({itemList:["相册","视频"],success:function(e){1==e.tapIndex?t.videoAdd():0==e.tapIndex&&t.imgAdd()},fail:function(e){console.log(e.errMsg)}});break;default:this.imgAdd();break}},videoAdd:function(){var t=this;console.log("videoAdd");var i=Math.abs(this.uploadLists.length-this.max);this.chooseNum>i||this.chooseNum;e.chooseVideo({compressed:this.compress,sourceType:this.sourceType,camera:this.camera,maxDuration:this.maxDuration,success:function(i){i.duration>90?e.showToast({title:"上传视频时长不能超过90秒",icon:"none"}):t.chooseSuccessMethod([i.tempFilePath],1,"video")}})},imgAdd:function(){var t=this,i=Math.abs(this.uploadLists.length-this.max),o=this.chooseNum>i?i:this.chooseNum;e.chooseImage({count:o,sizeType:["original","compressed"],sourceType:this.sourceType,success:function(i){var o=["jpg","png","gif","jpeg"],n=i.tempFilePaths.some((function(e){return o.some((function(t){return-1!==e.indexOf(t)}))}));n?t.chooseSuccessMethod(i.tempFilePaths,0,"photos"):e.showToast({title:"请选择jpg/png/gif/jpeg格式的图片"})}})},appCamera:function(){var e=this,t=plus.camera.getCamera(),i=t.supportedImageResolutions[0],o=t.supportedImageFormats[0];t.captureImage((function(t){e.chooseSuccessMethod([t],0)}),(function(e){console.log("Capture image failed: "+e.message)}),{resolution:i,format:o})},appGallery:function(e){var t=this;plus.gallery.pick((function(e){t.chooseSuccessMethod(e.files,0)}),(function(e){}),{filter:"image",multiple:!0,maximum:e})},chooseSuccessMethod:function(e,t,i){""==this.action?this.$emit("chooseSuccess",e,t):1==t?this.imgUpload(e,i):this.compress?this.imgCompress(e):this.imgUpload(e,i)},imgCompress:function(t){var i=this;console.log("压缩前",t),e.showLoading({title:"压缩中..."});var o=[],n=[];t.forEach((function(t,a){o.push(new Promise((function(o,a){e.compressImage({src:t,quality:i.quality,success:function(e){console.log("压缩后",e),n.push(e.tempFilePath),o(e.tempFilePath)},fail:function(e){a(e)},complete:function(){}})})))})),Promise.all(o).then((function(t){e.hideLoading(),console.log("imgUpload",t),i.imgUpload(t)})).catch((function(t,i){e.hideLoading()}))},imgUpload:function(t,i){var o=this;e.showLoading({title:"上传中"}),console.log("imgUpload",t);var n=[];t.forEach((function(t,a){n.push(new Promise((function(n,a){e.uploadFile({url:o.action,filePath:t,fileType:"photos"==i?"image":"video",name:i,header:{Authorization:"Bearer "+e.getStorageSync("token"),"Content-Type":"multipart/form-data"},formData:{userId:e.getStorageSync("user_id")},success:function(t){"function"==typeof o.uploadSuccess&&o.uploadSuccess(t).success&&(o.value.push(o.uploadSuccess(t).url),o.$emit("input",o.uploadLists)),n(t),o.$emit("uploadSuccess",t),e.hideLoading()},fail:function(t){e.showToast({title:"图片不合法",icon:"none"}),console.log(t),a(t),o.$emit("uploadFail",t)},complete:function(){}})})))})),Promise.all(n).then((function(t){e.hideLoading()})).catch((function(t,i){e.hideLoading(),o.$emit("uploadFail",t)}))},canvasDataURL:function(e,t,i){var o=new Image;o.src=e,o.onload=function(){var e=this,o=e.width,n=e.height,a=o/n;o=t.width||o,n=t.height||o/a;var s=.8,u=document.createElement("canvas"),c=u.getContext("2d"),r=document.createAttribute("width");r.nodeValue=o;var l=document.createAttribute("height");l.nodeValue=n,u.setAttributeNode(r),u.setAttributeNode(l),c.drawImage(e,0,0,o,n),t.quality&&t.quality<=1&&t.quality>0&&(s=t.quality);var d=u.toDataURL("image/jpeg",s);i(d)}}}};t.default=i}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},327:
/*!***************************************************************************************************************!*\
  !*** D:/工作/project/project/components/htz-image-upload/htz-image-upload.vue?vue&type=style&index=0&lang=css& ***!
  \***************************************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";i.r(t);var o=i(/*! -!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./htz-image-upload.vue?vue&type=style&index=0&lang=css& */328),n=i.n(o);for(var a in o)"default"!==a&&function(e){i.d(t,e,(function(){return o[e]}))}(a);t["default"]=n.a},328:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/工作/project/project/components/htz-image-upload/htz-image-upload.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,i){},329:
/*!***************************************************************************************************************!*\
  !*** D:/工作/project/project/components/htz-image-upload/htz-image-upload.vue?vue&type=style&index=1&lang=css& ***!
  \***************************************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";i.r(t);var o=i(/*! -!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../开发工具/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./htz-image-upload.vue?vue&type=style&index=1&lang=css& */330),n=i.n(o);for(var a in o)"default"!==a&&function(e){i.d(t,e,(function(){return o[e]}))}(a);t["default"]=n.a},330:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/工作/project/project/components/htz-image-upload/htz-image-upload.vue?vue&type=style&index=1&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,i){}}]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/components/htz-image-upload/htz-image-upload.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/htz-image-upload/htz-image-upload-create-component',
    {
        'components/htz-image-upload/htz-image-upload-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(322))
        })
    },
    [['components/htz-image-upload/htz-image-upload-create-component']]
]);
